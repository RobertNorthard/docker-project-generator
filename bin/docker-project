#!/usr/bin/env ruby

require 'docker-project'
require 'optparse'

ARGV << '--help' if ARGV.empty?

options = {}
optparse = OptionParser.new do |opts|
  opts.banner = 'Usage: docker-project [options]'

  opts.on('-i', '--init', 'Initialise docker project.') { |_v| options[:init] = true }
  opts.on('-v', '--version', 'Version') { |_v| options[:version] = true }
  opts.on('-h', '--help', 'Usage instructions.') { |_v| options[:help] = true }

  opts.on('-v', '--version', 'Version') do
    puts DockerProject::VERSION
    exit 0
  end

  opts.on('-h', '--help', 'Usage Instructions') do
    puts opts
    exit 0
  end
end.parse!

if options[:init]
  puts 'Initialising current working directory.'
  DockerProject::DockerProject.new.project_init
end
